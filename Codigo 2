<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ficha de Personaje - Pathfinder</title>
    <style>
        :root {
            --primary-color: #8B4513;
            --secondary-color: #D2691E;
            --accent-color: #CD853F;
            --light-color: #FAEBD7;
            --dark-color: #5D4037;
            --text-color: #3E2723;
            --border-radius: 8px;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: var(--text-color);
            padding: 20px;
        }
        
        .container {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            gap: 0;
        }
        
        .character-panel {
            flex: 0 0 300px;
            padding: 20px;
            border-right: 1px solid #ddd;
            background-color: var(--light-color);
        }
        
        .main-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        /* ESTILOS PARA PESTAÑAS */
        .tabs-container {
            border-bottom: 1px solid #ddd;
        }
        
        .tabs {
            display: flex;
            flex-wrap: wrap;
            background-color: var(--light-color);
            padding: 0 20px;
        }
        
        .tab {
            padding: 12px 20px;
            background-color: var(--light-color);
            border: 1px solid transparent;
            border-bottom: none;
            cursor: pointer;
            font-weight: 600;
            color: var(--primary-color);
            transition: all 0.3s ease;
            border-top-left-radius: 5px;
            border-top-right-radius: 5px;
            margin-right: 5px;
        }
        
        .tab.active {
            background-color: white;
            border-color: #ddd;
            color: var(--secondary-color);
            position: relative;
            top: 1px;
        }
        
        .tab-content {
            display: none;
            padding: 0;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .section {
            padding: 20px;
            border-bottom: 1px solid #ddd;
        }
        
        .section-title {
            font-size: 18px;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid var(--secondary-color);
            color: var(--primary-color);
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group-row {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .form-group-row label {
            min-width: 80px;
            margin-bottom: 0;
        }
        
        .form-group-row select {
            flex: 1;
        }
        
        .form-group-row .level-input {
            width: 50px;
            text-align: center;
            padding: 5px;
            border: 1px solid var(--accent-color);
            border-radius: 4px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: var(--primary-color);
        }
        
        select, input {
            width: 100%;
            padding: 8px;
            border: 1px solid var(--accent-color);
            border-radius: var(--border-radius);
            font-size: 14px;
            background-color: white;
        }
        
        select:focus, input:focus {
            outline: none;
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 2px rgba(210, 105, 30, 0.3);
        }
        
        .character-image-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .image-wrapper {
            position: relative;
            width: 180px;
            height: 180px;
            margin-bottom: 15px;
        }
        
        .character-image {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--primary-color);
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #777;
            font-size: 14px;
            cursor: pointer;
        }
        
        .experience-ring {
            position: absolute;
            top: -10px;
            left: -10px;
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: conic-gradient(var(--accent-color) 60%, #ddd 0);
            z-index: -1;
        }
        
        .level-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            margin-top: 10px;
        }
        
        .nep-display, .next-level-display {
            font-weight: bold;
            font-size: 16px;
            color: white;
            background-color: var(--primary-color);
            padding: 5px 15px;
            border-radius: 20px;
        }
        
        .ability-point-notification {
            background-color: #ffeb3b;
            color: #333;
            padding: 10px;
            border-radius: var(--border-radius);
            margin-top: 10px;
            font-weight: bold;
            text-align: center;
            display: none;
            border: 2px solid #ffc107;
        }
        
        .basic-data {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }
        
        .data-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }
        
        .attributes-saving-throws {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .attributes-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .attributes-table th, .attributes-table td {
            padding: 8px;
            text-align: center;
            border: 1px solid var(--accent-color);
        }
        
        .attributes-table th {
            background-color: var(--light-color);
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .attributes-table input {
            width: 50px;
            text-align: center;
            padding: 5px;
            border: 1px solid var(--accent-color);
        }
        
        .attribute-name {
            font-weight: bold;
            text-align: left;
            padding-left: 10px;
            background-color: var(--light-color);
        }
        
        .saving-throws-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .saving-throws-table th, .saving-throws-table td {
            padding: 8px;
            text-align: center;
            border: 1px solid var(--accent-color);
        }
        
        .saving-throws-table th {
            background-color: var(--light-color);
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .saving-throws-table input {
            width: 40px;
            text-align: center;
            padding: 5px;
            border: 1px solid var(--accent-color);
        }
        
        .saving-throw-name {
            font-weight: bold;
            text-align: left;
            padding-left: 10px;
            background-color: var(--light-color);
        }
        
        .magic-resistance {
            margin-top: 15px;
            padding: 10px;
            background-color: var(--light-color);
            border-radius: var(--border-radius);
            border: 1px solid var(--accent-color);
        }
        
        .magic-resistance input {
            width: 100%;
            text-align: center;
            font-weight: bold;
        }
        
        .experience-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .experience-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .experience-table th, .experience-table td {
            padding: 8px;
            text-align: center;
            border: 1px solid var(--accent-color);
        }
        
        .experience-table th {
            background-color: var(--light-color);
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .experience-table input {
            width: 80px;
            text-align: center;
            padding: 5px;
            border: 1px solid var(--accent-color);
        }
        
        .experience-totals {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 15px;
        }
        
        .total-box {
            background-color: var(--light-color);
            padding: 15px;
            border-radius: var(--border-radius);
            text-align: center;
            border: 1px solid var(--accent-color);
        }
        
        .total-box label {
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .total-box input {
            font-size: 16px;
            font-weight: bold;
        }
        
        .add-experience {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .add-experience input {
            flex: 1;
        }
        
        .add-experience button {
            padding: 10px 15px;
            background-color: var(--secondary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: bold;
        }
        
        .add-experience button:hover {
            background-color: var(--primary-color);
        }
        
        .attribute-display {
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .background-info {
            margin-top: 10px;
            padding: 10px;
            background-color: var(--light-color);
            border-radius: var(--border-radius);
            font-size: 14px;
            display: none;
            border: 1px solid var(--accent-color);
        }
        
        .background-info.active {
            display: block;
        }
        
        .info-row {
            margin-bottom: 5px;
            display: flex;
        }
        
        .info-label {
            font-weight: bold;
            min-width: 120px;
        }
        
        .size-modifiers {
            margin-top: 10px;
            padding: 10px;
            background-color: var(--light-color);
            border-radius: var(--border-radius);
            font-size: 12px;
            border: 1px solid var(--accent-color);
        }
        
        .size-modifiers table {
            width: 100%;
            border-collapse: collapse;
            font-size: 11px;
        }
        
        .size-modifiers th, .size-modifiers td {
            padding: 4px;
            text-align: center;
            border: 1px solid var(--accent-color);
        }
        
        .size-modifiers th {
            background-color: var(--light-color);
            color: var(--primary-color);
        }

        /* ESTILOS PARA NUEVAS SECCIONES */
        .combat-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .combat-stat {
            background-color: var(--light-color);
            padding: 15px;
            border-radius: var(--border-radius);
            border: 1px solid var(--accent-color);
            text-align: center;
        }
        
        .combat-stat label {
            font-size: 14px;
            margin-bottom: 8px;
            display: block;
        }
        
        .combat-stat input {
            font-size: 18px;
            font-weight: bold;
            text-align: center;
        }
        
        /* ESTILOS PARA COMPETENCIAS */
        .skills-summary {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .total-ranks-box {
            background-color: var(--light-color);
            padding: 15px;
            border-radius: var(--border-radius);
            text-align: center;
            border: 1px solid var(--accent-color);
        }

        .total-ranks-box label {
            font-size: 14px;
            margin-bottom: 8px;
            display: block;
            font-weight: bold;
            color: var(--primary-color);
        }

        .total-ranks-box input {
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            background-color: white;
            width: 100%;
        }

        .skills-table-container {
            overflow-x: auto;
        }

        .skills-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 11px;
            min-width: 800px;
        }

        .skills-table th, .skills-table td {
            padding: 6px;
            text-align: center;
            border: 1px solid var(--accent-color);
        }

        .skills-table th {
            background-color: var(--light-color);
            font-weight: bold;
            color: var(--primary-color);
            font-size: 10px;
        }

        .skills-table input[type="number"] {
            width: 40px;
            text-align: center;
            padding: 3px;
            border: 1px solid var(--accent-color);
            border-radius: 3px;
            font-size: 10px;
        }

        .skills-table input[type="checkbox"] {
            transform: scale(0.8);
        }

        .skill-name {
            text-align: left;
            font-weight: bold;
            padding-left: 5px;
            min-width: 120px;
            font-size: 10px;
        }

        .attribute-col {
            background-color: var(--light-color);
            font-weight: bold;
            min-width: 40px;
            font-size: 10px;
        }

        .skills-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }
        
        .skill-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px;
            border-bottom: 1px solid #eee;
        }
        
        .skill-name-old {
            flex: 1;
        }
        
        .skill-bonus {
            width: 60px;
            text-align: center;
        }
        
        .feats-list, .spells-list, .equipment-list {
            min-height: 200px;
            padding: 15px;
            border: 1px solid var(--accent-color);
            border-radius: var(--border-radius);
            background-color: var(--light-color);
        }
        
        textarea {
            width: 100%;
            min-height: 150px;
            padding: 10px;
            border: 1px solid var(--accent-color);
            border-radius: var(--border-radius);
            resize: vertical;
        }

        /* NUEVOS ESTILOS PARA MEJORAS */
        .bab-display {
            font-size: 16px;
            font-weight: bold;
            text-align: center;
            margin: 10px 0;
            color: var(--primary-color);
        }
        
        .feat-selection {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .feat-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px;
            border-bottom: 1px solid #ddd;
        }
        
        .feat-item button {
            background-color: #ff6b6b;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 4px 8px;
            cursor: pointer;
        }
        
        .hp-calculation {
            background-color: var(--light-color);
            padding: 10px;
            border-radius: var(--border-radius);
            margin-top: 10px;
            font-size: 12px;
            border: 1px solid var(--accent-color);
        }
        
        .calculation-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        
        /* NUEVOS ESTILOS PARA SECCIONES MEJORADAS */
        .sub-tabs {
            display: flex;
            background-color: var(--light-color);
            padding: 0 20px;
            border-bottom: 1px solid #ddd;
        }
        
        .sub-tab {
            padding: 10px 15px;
            cursor: pointer;
            font-weight: 600;
            color: var(--primary-color);
            border-bottom: 2px solid transparent;
        }
        
        .sub-tab.active {
            color: var(--secondary-color);
            border-bottom: 2px solid var(--secondary-color);
        }
        
        .sub-content {
            display: none;
        }
        
        .sub-content.active {
            display: block;
        }
        
        .class-item {
            background-color: var(--light-color);
            padding: 15px;
            border-radius: var(--border-radius);
            margin-bottom: 15px;
            border: 1px solid var(--accent-color);
        }
        
        .class-item h4 {
            margin-bottom: 10px;
            color: var(--primary-color);
        }
        
        .class-item p {
            margin-bottom: 5px;
        }
        
        .equipment-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .equipment-item {
            background-color: var(--light-color);
            padding: 15px;
            border-radius: var(--border-radius);
            border: 1px solid var(--accent-color);
        }
        
        .equipment-item h4 {
            margin-bottom: 10px;
            color: var(--primary-color);
        }
        
        .bonus-inputs {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 10px;
        }
        
        .bonus-inputs > div {
            display: flex;
            flex-direction: column;
        }
        
        .weapons-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .weapons-table th, .weapons-table td {
            padding: 8px;
            text-align: center;
            border: 1px solid var(--accent-color);
        }
        
        .weapons-table th {
            background-color: var(--light-color);
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .weapons-table input {
            width: 100%;
            text-align: center;
        }
        
        .skills-header {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;
            gap: 5px;
            margin-bottom: 10px;
            font-weight: bold;
            font-size: 10px;
            color: var(--primary-color);
        }
        
        .skill-row {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;
            gap: 5px;
            margin-bottom: 5px;
            align-items: center;
        }
        
        .skill-input {
            width: 100%;
            text-align: center;
            padding: 3px;
            border: 1px solid var(--accent-color);
            border-radius: 3px;
        }
        
        .skill-attr {
            text-align: center;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        /* NUEVOS ESTILOS PARA MEJORAS ESPECÍFICAS */
        .special-defenses {
            margin-top: 15px;
        }
        
        .defense-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .defense-item {
            background-color: var(--light-color);
            padding: 15px;
            border-radius: var(--border-radius);
            border: 1px solid var(--accent-color);
        }
        
        .defense-item label {
            font-weight: bold;
            margin-bottom: 8px;
            display: block;
        }
        
        .defense-item input {
            width: 100%;
        }
        
        .encumbrance-system {
            margin-top: 15px;
        }
        
        .load-categories {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .load-category {
            background-color: var(--light-color);
            padding: 15px;
            border-radius: var(--border-radius);
            border: 1px solid var(--accent-color);
            text-align: center;
        }
        
        .load-category h4 {
            margin-bottom: 10px;
            color: var(--primary-color);
        }
        
        .current-load {
            text-align: center;
            background-color: var(--light-color);
            padding: 15px;
            border-radius: var(--border-radius);
            border: 1px solid var(--accent-color);
        }
        
        .class-abilities-container, .traits-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .ability-category, .trait-category {
            background-color: var(--light-color);
            padding: 15px;
            border-radius: var(--border-radius);
            border: 1px solid var(--accent-color);
        }
        
        .ability-item, .trait-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #ddd;
        }
        
        .spellcasting-info {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .spell-stat {
            background-color: var(--light-color);
            padding: 15px;
            border-radius: var(--border-radius);
            border: 1px solid var(--accent-color);
            text-align: center;
        }
        
        .spells-per-day-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        
        .spells-per-day-table th, .spells-per-day-table td {
            padding: 8px;
            text-align: center;
            border: 1px solid var(--accent-color);
        }
        
        .spells-per-day-table th {
            background-color: var(--light-color);
            font-weight: bold;
        }
        
        .spell-levels-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        
        .spell-level {
            background-color: var(--light-color);
            padding: 15px;
            border-radius: var(--border-radius);
            border: 1px solid var(--accent-color);
        }
        
        .spell-level h4 {
            margin-bottom: 10px;
            color: var(--primary-color);
        }
        
        .spell-level textarea {
            width: 100%;
            min-height: 100px;
            resize: vertical;
        }
        
        .special-abilities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
        }
        
        .ability-card {
            background-color: var(--light-color);
            padding: 15px;
            border-radius: var(--border-radius);
            border: 1px solid var(--accent-color);
        }
        
        .ability-card h4 {
            margin-bottom: 10px;
            color: var(--primary-color);
        }
        
        .ability-card .uses {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
        }
        
        /* Estilos para dotes con bonificadores */
        .feat-bonus-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }
        
        .feat-bonus-item {
            display: flex;
            flex-direction: column;
        }
        
        .feat-bonus-item label {
            font-size: 12px;
            margin-bottom: 5px;
        }

        @media (max-width: 1024px) {
            .container {
                flex-direction: column;
            }
            
            .character-panel {
                border-right: none;
                border-bottom: 1px solid #ddd;
                flex: 0 0 auto;
            }
            
            .attributes-saving-throws, .experience-section {
                grid-template-columns: 1fr;
            }
            
            .data-row {
                grid-template-columns: 1fr;
            }
            
            .experience-totals {
                grid-template-columns: 1fr;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .tab {
                margin-right: 0;
                margin-bottom: 5px;
                border-radius: 5px;
                border: 1px solid #ddd;
            }

            .skills-summary {
                grid-template-columns: 1fr;
            }
            
            .equipment-section {
                grid-template-columns: 1fr;
            }
            
            .class-abilities-container, .traits-container {
                grid-template-columns: 1fr;
            }
            
            .spell-levels-container {
                grid-template-columns: 1fr;
            }
            
            .special-abilities-grid {
                grid-template-columns: 1fr;
            }
            
            .defense-grid {
                grid-template-columns: 1fr;
            }
            
            .load-categories {
                grid-template-columns: 1fr;
            }
            
            .feat-bonus-section {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Panel de Personaje (Izquierda) - CON DATOS DE EJEMPLO -->
        <div class="character-panel">
            <h2 class="section-title">Personaje</h2>
            
            <div class="character-image-container">
                <div class="image-wrapper">
                    <div class="experience-ring"></div>
                    <div class="character-image" id="character-image">
                        <span>Cargar imagen</span>
                    </div>
                </div>
                
                <div class="level-info">
                    <div class="nep-display">NEP: <span id="nep-value">90</span></div>
                    <div class="next-level-display">Próx. Nvl <span id="next-nep-value">91</span></div>
                </div>
                
                <div id="ability-point-notification" class="ability-point-notification">
                    ¡Has ganado 5 puntos de característica! Niveles 4, 8, 12, 16, 20
                </div>
            </div>
            
            <div class="form-group-row">
                <label for="class1">Clase 1</label>
                <select id="class1">
                    <option value="">Seleccionar</option>
                    <option value="barbaro" selected>Bárbaro</option>
                    <option value="guerrero">Guerrero</option>
                    <option value="adalid">Adalid</option>
                    <option value="alquimista">Alquimista</option>
                    <option value="antipaladin">Antipaladín</option>
                    <option value="arcanista">Arcanista</option>
                    <option value="bardo">Bardo</option>
                    <option value="bruja">Bruja</option>
                    <option value="cazador">Cazador</option>
                    <option value="chaman">Chamán</option>
                    <option value="clerigo">Clérigo</option>
                    <option value="convocador">Convocador</option>
                    <option value="druida">Druida</option>
                    <option value="escaldo">Escaldo</option>
                    <option value="espadachin">Espadachín</option>
                    <option value="explorador">Explorador</option>
                    <option value="exterminador">Exterminador</option>
                    <option value="hechicero">Hechicero</option>
                    <option value="inquisidor">Inquisidor</option>
                    <option value="investigador">Investigador</option>
                    <option value="mago">Mago</option>
                    <option value="magus">Magus</option>
                    <option value="monje">Monje</option>
                    <option value="ninja">Ninja</option>
                    <option value="oraculo">Oráculo</option>
                    <option value="paladin">Paladín</option>
                    <option value="picaro">Pícaro</option>
                    <option value="pistolero">Pistolero</option>
                    <option value="psionico">Psiónico</option>
                    <option value="pugilista">Pugilista</option>
                    <option value="rabioso_sangre">Rabioso de sangre</option>
                    <option value="sacerdote_guerra">Sacerdote de guerra</option>
                    <option value="samurai">Samurai</option>
                </select>
                <input type="number" id="class1-level" class="level-input" value="20" min="0" max="20">
            </div>

            <div class="form-group-row">
                <label for="class2">Clase 2</label>
                <select id="class2">
                    <option value="">Seleccionar</option>
                    <option value="druida" selected>Druida</option>
                    <option value="adalid">Adalid</option>
                    <option value="alquimista">Alquimista</option>
                    <option value="antipaladin">Antipaladín</option>
                    <option value="arcanista">Arcanista</option>
                    <option value="barbaro">Bárbaro</option>
                    <option value="bardo">Bardo</option>
                    <option value="bruja">Bruja</option>
                    <option value="cazador">Cazador</option>
                    <option value="chaman">Chamán</option>
                    <option value="clerigo">Clérigo</option>
                    <option value="convocador">Convocador</option>
                    <option value="escaldo">Escaldo</option>
                    <option value="espadachin">Espadachín</option>
                    <option value="explorador">Explorador</option>
                    <option value="exterminador">Exterminador</option>
                    <option value="guerrero">Guerrero</option>
                    <option value="hechicero">Hechicero</option>
                    <option value="inquisidor">Inquisidor</option>
                    <option value="investigador">Investigador</option>
                    <option value="mago">Mago</option>
                    <option value="magus">Magus</option>
                    <option value="monje">Monje</option>
                    <option value="ninja">Ninja</option>
                    <option value="oraculo">Oráculo</option>
                    <option value="paladin">Paladín</option>
                    <option value="picaro">Pícaro</option>
                    <option value="pistolero">Pistolero</option>
                    <option value="psionico">Psiónico</option>
                    <option value="pugilista">Pugilista</option>
                    <option value="rabioso_sangre">Rabioso de sangre</option>
                    <option value="sacerdote_guerra">Sacerdote de guerra</option>
                    <option value="samurai">Samurai</option>
                </select>
                <input type="number" id="class2-level" class="level-input" value="20" min="0" max="20">
            </div>

            <div class="form-group-row">
                <label for="class3">Clase 3</label>
                <select id="class3">
                    <option value="">Seleccionar</option>
                    <option value="picaro" selected>Pícaro</option>
                    <option value="adalid">Adalid</option>
                    <option value="alquimista">Alquimista</option>
                    <option value="antipaladin">Antipaladín</option>
                    <option value="arcanista">Arcanista</option>
                    <option value="barbaro">Bárbaro</option>
                    <option value="bardo">Bardo</option>
                    <option value="bruja">Bruja</option>
                    <option value="cazador">Cazador</option>
                    <option value="chaman">Chamán</option>
                    <option value="clerigo">Clérigo</option>
                    <option value="convocador">Convocador</option>
                    <option value="druida">Druida</option>
                    <option value="escaldo">Escaldo</option>
                    <option value="espadachin">Espadachín</option>
                    <option value="explorador">Explorador</option>
                    <option value="exterminador">Exterminador</option>
                    <option value="guerrero">Guerrero</option>
                    <option value="hechicero">Hechicero</option>
                    <option value="inquisidor">Inquisidor</option>
                    <option value="investigador">Investigador</option>
                    <option value="mago">Mago</option>
                    <option value="magus">Magus</option>
                    <option value="monje">Monje</option>
                    <option value="ninja">Ninja</option>
                    <option value="oraculo">Oráculo</option>
                    <option value="paladin">Paladín</option>
                    <option value="pistolero">Pistolero</option>
                    <option value="psionico">Psiónico</option>
                    <option value="pugilista">Pugilista</option>
                    <option value="rabioso_sangre">Rabioso de sangre</option>
                    <option value="sacerdote_guerra">Sacerdote de guerra</option>
                    <option value="samurai">Samurai</option>
                </select>
                <input type="number" id="class3-level" class="level-input" value="20" min="0" max="20">
            </div>
            
            <div class="form-group-row">
                <label for="prestige1">Prestigio 1</label>
                <select id="prestige1">
                    <option value="">Seleccionar</option>
                    <option value="asesino" selected>Asesino</option>
                    <option value="arquero_arcano">Arquero Arcano</option>
                    <option value="bribon_arcano">Bribón Arcano</option>
                    <option value="caminante_horizonte">Caminante del horizonte</option>
                    <option value="caballero_arcano">Caballero Arcano</option>
                    <option value="cronista_pathfinder">Cronista Pathfinder</option>
                    <option value="danzarin_sombrio">Danzarín Sombrío</option>
                    <option value="defensor_firme">Defensor firme</option>
                    <option value="discipulo_dragon">Discípulo del Dragón</option>
                    <option value="duelista">Duelista</option>
                    <option value="espia_maestro">Espía maestro</option>
                    <option value="guardian_naturaleza">Guardián de la naturaleza</option>
                    <option value="heraldo_batalla">Heraldo de batalla</option>
                    <option value="maestro_saber">Maestro del Saber</option>
                    <option value="profeta_furia">Profeta de la furia</option>
                    <option value="quimico_maestro">Químico maestro</option>
                    <option value="teurgo_mistico">Teúrgo Místico</option>
                    <option value="vindicador_sagrado">Vindicador Sagrado</option>
                </select>
                <input type="number" id="prestige1-level" class="level-input" value="10" min="0" max="10">
            </div>

            <div class="form-group-row">
                <label for="prestige2">Prestigio 2</label>
                <select id="prestige2">
                    <option value="">Seleccionar</option>
                    <option value="duelista" selected>Duelista</option>
                    <option value="arquero_arcano">Arquero Arcano</option>
                    <option value="asesino">Asesino</option>
                    <option value="bribon_arcano">Bribón Arcano</option>
                    <option value="caminante_horizonte">Caminante del horizonte</option>
                    <option value="caballero_arcano">Caballero Arcano</option>
                    <option value="cronista_pathfinder">Cronista Pathfinder</option>
                    <option value="danzarin_sombrio">Danzarín Sombrío</option>
                    <option value="defensor_firme">Defensor firme</option>
                    <option value="discipulo_dragon">Discípulo del Dragón</option>
                    <option value="espia_maestro">Espía maestro</option>
                    <option value="guardian_naturaleza">Guardián de la naturaleza</option>
                    <option value="heraldo_batalla">Heraldo de batalla</option>
                    <option value="maestro_saber">Maestro del Saber</option>
                    <option value="profeta_furia">Profeta de la furia</option>
                    <option value="quimico_maestro">Químico maestro</option>
                    <option value="teurgo_mistico">Teúrgo Místico</option>
                    <option value="vindicador_sagrado">Vindicador Sagrado</option>
                </select>
                <input type="number" id="prestige2-level" class="level-input" value="10" min="0" max="10">
            </div>

            <div class="form-group-row">
                <label for="prestige3">Prestigio 3</label>
                <select id="prestige3">
                    <option value="">Seleccionar</option>
                    <option value="guardian_naturaleza" selected>Guardián de la naturaleza</option>
                    <option value="arquero_arcano">Arquero Arcano</option>
                    <option value="asesino">Asesino</option>
                    <option value="bribon_arcano">Bribón Arcano</option>
                    <option value="caminante_horizonte">Caminante del horizonte</option>
                    <option value="caballero_arcano">Caballero Arcano</option>
                    <option value="cronista_pathfinder">Cronista Pathfinder</option>
                    <option value="danzarin_sombrio">Danzarín Sombrío</option>
                    <option value="defensor_firme">Defensor firme</option>
                    <option value="discipulo_dragon">Discípulo del Dragón</option>
                    <option value="duelista">Duelista</option>
                    <option value="espia_maestro">Espía maestro</option>
                    <option value="heraldo_batalla">Heraldo de batalla</option>
                    <option value="maestro_saber">Maestro del Saber</option>
                    <option value="profeta_furia">Profeta de la furia</option>
                    <option value="quimico_maestro">Químico maestro</option>
                    <option value="teurgo_mistico">Teúrgo Místico</option>
                    <option value="vindicador_sagrado">Vindicador Sagrado</option>
                </select>
                <input type="number" id="prestige3-level" class="level-input" value="10" min="0" max="10">
            </div>
            
            <div class="form-group">
                <label for="background">Trasfondo</label>
                <select id="background">
                    <option value="">Seleccionar trasfondo</option>
                    <option value="cazador" selected>Cazador</option>
                    <option value="Soldado">Soldado</option>
                </select>
                <div id="background-info" class="background-info"></div>
            </div>
        </div>
        
        <!-- Panel Principal (Derecha) -->
        <div class="main-panel">
            <div class="tabs-container">
                <div class="tabs">
                    <div class="tab active" data-tab="basic">Datos Básicos</div>
                    <div class="tab" data-tab="classes">Clases y Prestigios</div>
                    <div class="tab" data-tab="combat">Combate</div>
                    <div class="tab" data-tab="skills">Competencias</div>
                    <div class="tab" data-tab="feats">Dotes</div>
                    <div class="tab" data-tab="equipment">Equipo</div>
                    <div class="tab" data-tab="spells">Hechizos</div>
                    <div class="tab" data-tab="history">Talentos/Historia</div>
                </div>
            </div>

            <!-- Pestaña de Datos Básicos - CON DATOS DE EJEMPLO -->
            <div id="basic" class="tab-content active">
                <!-- Sección de Datos Básicos -->
                <div class="section">
                    <h2 class="section-title">Datos Básicos</h2>
                    <div class="basic-data">
                        <div class="data-row">
                            <div class="form-group">
                                <label for="character-name">Nombre del Personaje</label>
                                <input type="text" id="character-name" placeholder="Nombre del personaje" value="Kaelen Fierro">
                            </div>
                            <div class="form-group">
                                <label for="race">Raza</label>
                                <select id="race">
                                    <option value="">Seleccionar raza</option>
                                    <option value="aasimar">Aasimar</option>
                                    <option value="branquial">Branquial</option>
                                    <option value="dhampir">Dhampir</option>
                                    <option value="drow_plebeyo">Drow Plebeyo</option>
                                    <option value="drow_noble">Drow Noble</option>
                                    <option value="efrit">Efrit</option>
                                    <option value="elfo">Elfo</option>
                                    <option value="enano">Enano</option>
                                    <option value="duergar">Enano, Duergar</option>
                                    <option value="estricido">Estrícido</option>
                                    <option value="felido">Félido</option>
                                    <option value="gnomo">Gnomo</option>
                                    <option value="svirfneblin">Gnomo, Svirfneblin</option>
                                    <option value="humano" selected>Humano</option>
                                    <option value="kitsune">Kitsune</option>
                                    <option value="mediano">Mediano</option>
                                    <option value="orco">Orco</option>
                                    <option value="ratido">Rátido</option>
                                    <option value="replicante">Replicante</option>
                                    <option value="semielfo">Semielfo</option>
                                    <option value="semiorco">Semiorco</option>
                                    <option value="suli">Suli</option>
                                    <option value="tiflin">Tiflin</option>
                                    <option value="vanara">Vanara simiesco</option>
                                    <option value="vishkanya">Vishkanya</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="alignment">Alineamiento</label>
                                <select id="alignment">
                                    <option value="">Seleccionar</option>
                                    <option value="lg">Legal Bueno</option>
                                    <option value="ng">Neutral Bueno</option>
                                    <option value="cg" selected>Caótico Bueno</option>
                                    <option value="ln">Legal Neutral</option>
                                    <option value="n">Neutral</option>
                                    <option value="cn">Caótico Neutral</option>
                                    <option value="le">Legal Malvado</option>
                                    <option value="ne">Neutral Malvado</option>
                                    <option value="ce">Caótico Malvado</option>
                                </select>
                            </div>
                        </div>
                        <div class="data-row">
                            <div class="form-group">
                                <label for="deity">Deidad</label>
                                <select id="deity">
                                    <option value="">Seleccionar deidad</option>
                                    <option value="abadar">Abadar</option>
                                    <option value="asmodeus">Asmodeus</option>
                                    <option value="calistria">Calistria</option>
                                    <option value="cayden_cailean">Cayden Cailean</option>
                                    <option value="desna">Desna</option>
                                    <option value="erastil">Erastil</option>
                                    <option value="gorum" selected>Gorum</option>
                                    <option value="gozreh">Gozreh</option>
                                    <option value="iomedae">Iomedae</option>
                                    <option value="irori">Irori</option>
                                    <option value="lamashtu">Lamashtu</option>
                                    <option value="nethys">Nethys</option>
                                    <option value="norgorber">Norgorber</option>
                                    <option value="pharasma">Pharasma</option>
                                    <option value="rorg">Rovagug</option>
                                    <option value="sarenrae">Sarenrae</option>
                                    <option value="shelyn">Shelyn</option>
                                    <option value="torag">Torag</option>
                                    <option value="urgathoa">Urgathoa</option>
                                    <option value="zom">Zon-Kuthon</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="height">Altura (cm)</label>
                                <input type="number" id="height" placeholder="Ej: 180" value="195">
                            </div>
                            <div class="form-group">
                                <label for="size">Tamaño</label>
                                <input type="text" id="size" value="Mediano" readonly>
                            </div>
                            <div class="form-group">
                                <label for="gender">Sexo</label>
                                <select id="gender">
                                    <option value="masculino" selected>Masculino</option>
                                    <option value="femenino">Femenino</option>
                                    <option value="otro">Otro</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="age">Edad</label>
                                <input type="number" id="age" placeholder="Edad" value="32">
                            </div>
                        </div>
                    </div>
                    
                    <div class="size-modifiers">
                        <table>
                            <thead>
                                <tr>
                                    <th>Categoría de tamaño</th>
                                    <th>Modificador de CA</th>
                                    <th>Modificador de Gaco</th>
                                    <th>Modificador de Fuerza</th>
                                </tr>
                            </thead>
                            <tbody id="size-modifiers-body">
                                <tr>
                                    <td>Mediano</td>
                                    <td>+0</td>
                                    <td>+0</td>
                                    <td>+0</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Sección de Atributos y Salvamentos - CON DATOS DE EJEMPLO -->
                <div class="section">
                    <div class="attributes-saving-throws">
                        <!-- Atributos -->
                        <div>
                            <h2 class="section-title">Atributos</h2>
                            <table class="attributes-table">
                                <thead>
                                    <tr>
                                        <th></th>
                                        <th>Puntaje</th>
                                        <th>Total</th>
                                        <th>Bonif</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="attribute-name">FUE</td>
                                        <td><input type="number" id="str-base" value="28" min="1" max="45"></td>
                                        <td id="str-total" class="attribute-display">28</td>
                                        <td id="str-mod" class="attribute-display">+9</td>
                                    </tr>
                                    <tr>
                                        <td class="attribute-name">DES</td>
                                        <td><input type="number" id="dex-base" value="22" min="1" max="45"></td>
                                        <td id="dex-total" class="attribute-display">22</td>
                                        <td id="dex-mod" class="attribute-display">+6</td>
                                    </tr>
                                    <tr>
                                        <td class="attribute-name">CON</td>
                                        <td><input type="number" id="con-base" value="26" min="1" max="45"></td>
                                        <td id="con-total" class="attribute-display">26</td>
                                        <td id="con-mod" class="attribute-display">+8</td>
                                    </tr>
                                    <tr>
                                        <td class="attribute-name">INT</td>
                                        <td><input type="number" id="int-base" value="18" min="1" max="45"></td>
                                        <td id="int-total" class="attribute-display">18</td>
                                        <td id="int-mod" class="attribute-display">+4</td>
                                    </tr>
                                    <tr>
                                        <td class="attribute-name">SAB</td>
                                        <td><input type="number" id="wis-base" value="16" min="1" max="45"></td>
                                        <td id="wis-total" class="attribute-display">16</td>
                                        <td id="wis-mod" class="attribute-display">+3</td>
                                    </tr>
                                    <tr>
                                        <td class="attribute-name">CAR</td>
                                        <td><input type="number" id="cha-base" value="14" min="1" max="45"></td>
                                        <td id="cha-total" class="attribute-display">14</td>
                                        <td id="cha-mod" class="attribute-display">+2</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- Salvamentos -->
                        <div>
                            <h2 class="section-title">Salvamentos</h2>
                            <table class="saving-throws-table">
                                <thead>
                                    <tr>
                                        <th></th>
                                        <th>Clases</th>
                                        <th>Prestigios</th>
                                        <th>Mod. Car.</th>
                                        <th>Varios</th>
                                        <th>Manual</th>
                                        <th>Total</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="saving-throw-name">Fortaleza</td>
                                        <td><input type="number" id="fort-class" value="12" readonly></td>
                                        <td><input type="number" id="fort-prestige" value="6" readonly></td>
                                        <td id="fort-attr">+8</td>
                                        <td><input type="number" id="fort-misc" value="2"></td>
                                        <td><input type="number" id="fort-manual" value="0"></td>
                                        <td id="fort-total" class="attribute-display">28</td>
                                    </tr>
                                    <tr>
                                        <td class="saving-throw-name">Reflejos</td>
                                        <td><input type="number" id="reflex-class" value="6" readonly></td>
                                        <td><input type="number" id="reflex-prestige" value="3" readonly></td>
                                        <td id="reflex-attr">+6</td>
                                        <td><input type="number" id="reflex-misc" value="1"></td>
                                        <td><input type="number" id="reflex-manual" value="0"></td>
                                        <td id="reflex-total" class="attribute-display">16</td>
                                    </tr>
                                    <tr>
                                        <td class="saving-throw-name">Voluntad</td>
                                        <td><input type="number" id="will-class" value="6" readonly></td>
                                        <td><input type="number" id="will-prestige" value="3" readonly></td>
                                        <td id="will-attr">+3</td>
                                        <td><input type="number" id="will-misc" value="2"></td>
                                        <td><input type="number" id="will-manual" value="0"></td>
                                        <td id="will-total" class="attribute-display">14</td>
                                    </tr>
                                </tbody>
                            </table>
                            
                            <div class="magic-resistance">
                                <label for="magic-resistance">Resistencia Mágica</label>
                                <input type="number" id="magic-resistance" value="25" readonly>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Sección de Experiencia - CON DATOS DE EJEMPLO -->
                <div class="section">
                    <h2 class="section-title">Experiencia</h2>
                    <div class="experience-section">
                        <!-- Clases -->
                        <div>
                            <h3>Clases</h3>
                            <table class="experience-table">
                                <thead>
                                    <tr>
                                        <th>Clase 1</th>
                                        <th>Clase 2</th>
                                        <th>Clase 3</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><input type="number" id="class1-exp" value="1900000"></td>
                                        <td><input type="number" id="class2-exp" value="1900000"></td>
                                        <td><input type="number" id="class3-exp" value="1900000"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- Prestigios -->
                        <div>
                            <h3>Prestigios</h3>
                            <table class="experience-table">
                                <thead>
                                    <tr>
                                        <th>Prestigio 1</th>
                                        <th>Prestigio 2</th>
                                        <th>Prestigio 3</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><input type="number" id="prestige1-exp" value="950000"></td>
                                        <td><input type="number" id="prestige2-exp" value="950000"></td>
                                        <td><input type="number" id="prestige3-exp" value="950000"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="experience-totals">
                        <div class="total-box">
                            <label>Total Experiencia</label>
                            <input type="number" id="total-exp" value="8550000" readonly>
                        </div>
                        <div class="total-box">
                            <label>Siguiente Nivel</label>
                            <input type="number" id="next-level" value="0" readonly>
                        </div>
                        <div class="total-box">
                            <label>Experiencia Acumulada</label>
                            <input type="number" id="accumulated-exp" value="8550000" readonly>
                        </div>
                    </div>
                    
                    <div class="add-experience">
                        <input type="number" id="add-exp-input" placeholder="Cantidad de experiencia a añadir">
                        <button id="add-exp-btn">Añadir Experiencia</button>
                    </div>
                </div>
            </div>

            <!-- Pestaña de Clases y Prestigios - CON DATOS DE EJEMPLO -->
            <div id="classes" class="tab-content">
                <div class="sub-tabs">
                    <div class="sub-tab active" data-subtab="classes-detail">Clases</div>
                    <div class="sub-tab" data-subtab="prestiges-detail">Prestigios</div>
                </div>

                <div id="classes-detail" class="sub-content active">
                    <div class="section">
                        <h2 class="section-title">Detalle de Clases</h2>
                        <div class="class-list">
                            <div class="class-item">
                                <h4>Clase 1: Bárbaro</h4>
                                <p><strong>Nivel:</strong> 20</p>
                                <p><strong>Dado de Golpe:</strong> d12</p>
                                <p><strong>BAB:</strong> Alto (+1 por nivel)</p>
                                <p><strong>Salvaciones Buenas:</strong> Fortaleza</p>
                                <p><strong>Puntos de Golpe Máximos:</strong> <input type="number" value="240"></p>
                                <p><strong>Puntos de Golpe Actuales:</strong> <input type="number" value="240"></p>
                                <h5>Habilidades de Clase</h5>
                                <div class="special-abilities-grid">
                                    <div class="ability-card">
                                        <h4>Furia</h4>
                                        <p>+4 a FUE y CON, +2 a Voluntad, -2 a CA</p>
                                        <div class="uses">
                                            <span>Usos por día:</span>
                                            <input type="number" value="6" min="0" max="20">
                                        </div>
                                    </div>
                                    <div class="ability-card">
                                        <h4>Reducción de Daño</h4>
                                        <p>DR 5/-</p>
                                    </div>
                                    <div class="ability-card">
                                        <h4>Movimiento Rápido</h4>
                                        <p>+10 pies de velocidad</p>
                                    </div>
                                </div>
                            </div>
                            <div class="class-item">
                                <h4>Clase 2: Druida</h4>
                                <p><strong>Nivel:</strong> 20</p>
                                <p><strong>Dado de Golpe:</strong> d8</p>
                                <p><strong>BAB:</strong> Medio (+0.75 por nivel)</p>
                                <p><strong>Salvaciones Buenas:</strong> Fortaleza, Voluntad</p>
                                <p><strong>Puntos de Golpe Máximos:</strong> <input type="number" value="160"></p>
                                <p><strong>Puntos de Golpe Actuales:</strong> <input type="number" value="160"></p>
                                <h5>Habilidades de Clase</h5>
                                <div class="special-abilities-grid">
                                    <div class="ability-card">
                                        <h4>Forma Salvaje</h4>
                                        <p>Puedes transformarte en animales</p>
                                        <div class="uses">
                                            <span>Usos por día:</span>
                                            <input type="number" value="6" min="0" max="20">
                                        </div>
                                    </div>
                                    <div class="ability-card">
                                        <h4>Compañero Animal</h4>
                                        <p>Tienes un compañero animal</p>
                                    </div>
                                    <div class="ability-card">
                                        <h4>Resistencia Natural</h4>
                                        <p>+4 a salvaciones contra venenos y hechizos</p>
                                    </div>
                                </div>
                            </div>
                            <div class="class-item">
                                <h4>Clase 3: Pícaro</h4>
                                <p><strong>Nivel:</strong> 20</p>
                                <p><strong>Dado de Golpe:</strong> d8</p>
                                <p><strong>BAB:</strong> Medio (+0.75 por nivel)</p>
                                <p><strong>Salvaciones Buenas:</strong> Reflejos</p>
                                <p><strong>Puntos de Golpe Máximos:</strong> <input type="number" value="160"></p>
                                <p><strong>Puntos de Golpe Actuales:</strong> <input type="number" value="160"></p>
                                <h5>Habilidades de Clase</h5>
                                <div class="special-abilities-grid">
                                    <div class="ability-card">
                                        <h4>Ataque Furtivo</h4>
                                        <p>+10d6 de daño adicional contra objetivos desprevenidos</p>
                                        <div class="uses">
                                            <span>Daño Furtivo:</span>
                                            <input type="text" value="10d6" readonly>
                                        </div>
                                    </div>
                                    <div class="ability-card">
                                        <h4>Evasión</h4>
                                        <p>No recibes daño en salvaciones de Reflejos exitosas</p>
                                    </div>
                                    <div class="ability-card">
                                        <h4>Habilidades Especiales</h4>
                                        <p>+2 a todas las habilidades de clase</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="prestiges-detail" class="sub-content">
                    <div class="section">
                        <h2 class="section-title">Detalle de Prestigios</h2>
                        <div class="prestige-list">
                            <div class="class-item">
                                <h4>Prestigio 1: Asesino</h4>
                                <p><strong>Nivel:</strong> 10</p>
                                <p><strong>Dado de Golpe:</strong> d8</p>
                                <p><strong>BAB:</strong> Medio</p>
                                <p><strong>Requisitos:</strong> Habilidades de sigilo</p>
                                <p><strong>Puntos de Golpe Máximos:</strong> <input type="number" value="80"></p>
                                <p><strong>Puntos de Golpe Actuales:</strong> <input type="number" value="80"></p>
                                <h5>Habilidades de Prestigio</h5>
                                <div class="special-abilities-grid">
                                    <div class="ability-card">
                                        <h4>Muerte Súbita</h4>
                                        <p>Posibilidad de matar instantáneamente al objetivo</p>
                                        <div class="uses">
                                            <span>Probabilidad:</span>
                                            <input type="text" value="50%" readonly>
                                        </div>
                                    </div>
                                    <div class="ability-card">
                                        <h4>Veneno</h4>
                                        <p>+4 a usar venenos</p>
                                    </div>
                                </div>
                            </div>
                            <div class="class-item">
                                <h4>Prestigio 2: Duelista</h4>
                                <p><strong>Nivel:</strong> 10</p>
                                <p><strong>Dado de Golpe:</strong> d10</p>
                                <p><strong>BAB:</strong> Alto</p>
                                <p><strong>Requisitos:</strong> Competencia con armas de duelo</p>
                                <p><strong>Puntos de Golpe Máximos:</strong> <input type="number" value="100"></p>
                                <p><strong>Puntos de Golpe Actuales:</strong> <input type="number" value="100"></p>
                                <h5>Habilidades de Prestigio</h5>
                                <div class="special-abilities-grid">
                                    <div class="ability-card">
                                        <h4>Precisión</h4>
                                        <p>+2 a ataques con armas de duelo</p>
                                    </div>
                                    <div class="ability-card">
                                        <h4>Parada</h4>
                                        <p>Puedes parar ataques con tu arma</p>
                                    </div>
                                </div>
                            </div>
                            <div class="class-item">
                                <h4>Prestigio 3: Guardián de la Naturaleza</h4>
                                <p><strong>Nivel:</strong> 10</p>
                                <p><strong>Dado de Golpe:</strong> d10</p>
                                <p><strong>BAB:</strong> Alto</p>
                                <p><strong>Requisitos:</strong> Afinidad con la naturaleza</p>
                                <p><strong>Puntos de Golpe Máximos:</strong> <input type="number" value="100"></p>
                                <p><strong>Puntos de Golpe Actuales:</strong> <input type="number" value="100"></p>
                                <h5>Habilidades de Prestigio</h5>
                                <div class="special-abilities-grid">
                                    <div class="ability-card">
                                        <h4>Protección Natural</h4>
                                        <p>+2 a CA en entornos naturales</p>
                                    </div>
                                    <div class="ability-card">
                                        <h4>Comunión con la Naturaleza</h4>
                                        <p>Puedes hablar con animales y plantas</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Pestaña de Combate - CON DATOS DE EJEMPLO -->
            <div id="combat" class="tab-content">
                <div class="section">
                    <h2 class="section-title">Estadísticas de Combate</h2>
                    <div class="combat-stats">
                        <div class="combat-stat">
                            <label>Puntos de Golpe (PG)</label>
                            <input type="number" value="840" readonly>
                            <div class="hp-calculation">
                                <div class="calculation-row">
                                    <span>Bárbaro 20 (d12):</span>
                                    <span>240</span>
                                </div>
                                <div class="calculation-row">
                                    <span>Druida 20 (d8):</span>
                                    <span>160</span>
                                </div>
                                <div class="calculation-row">
                                    <span>Pícaro 20 (d8):</span>
                                    <span>160</span>
                                </div>
                                <div class="calculation-row">
                                    <span>Asesino 10 (d8):</span>
                                    <span>80</span>
                                </div>
                                <div class="calculation-row">
                                    <span>Duelista 10 (d10):</span>
                                    <span>100</span>
                                </div>
                                <div class="calculation-row">
                                    <span>Guardián 10 (d10):</span>
                                    <span>100</span>
                                </div>
                                <div class="calculation-row">
                                    <span>CON (+8):</span>
                                    <span>+90</span>
                                </div>
                            </div>
                        </div>
                        <div class="combat-stat">
                            <label>Clase de Armadura (CA)</label>
                            <input type="number" value="32" readonly>
                            <div class="combat-detail">
                                10 + Armadura + Escudo<br>
                                + DES + Tamaño<br>
                                + Varios
                            </div>
                        </div>
                        <div class="combat-stat">
                            <label>Iniciativa</label>
                            <input type="number" value="10" readonly>
                            <div class="combat-detail">
                                DES (+6) + Varios (+4)
                            </div>
                        </div>
                        <div class="combat-stat">
                            <label>Velocidad</label>
                            <input type="number" value="40" readonly>
                            <div class="combat-detail">
                                Base: 30 pies<br>
                                Bárbaro: +10 pies
                            </div>
                        </div>
                    </div>

                    <div class="bab-display">
                        Ataque Base (BAB): +15/+10/+5 = +30
                    </div>
                </div>

                <div class="section">
                    <h2 class="section-title">Defensa</h2>
                    <div class="equipment-section">
                        <div class="equipment-item">
                            <h4>Armadura</h4>
                            <select id="armor-select">
                                <option value="">Sin armadura</option>
                                <option value="cuero">Cuero (+2 CA)</option>
                                <option value="cuero_tachonado">Cuero Tachonado (+3 CA)</option>
                                <option value="cota_mallas" selected>Cota de Mallas (+6 CA)</option>
                                <option value="placas">Placas Completa (+9 CA)</option>
                            </select>
                            <div class="bonus-inputs">
                                <div>
                                    <label style="font-size: 11px;">Bonif. Mejora</label>
                                    <input type="number" value="3" min="0" max="5">
                                </div>
                                <div>
                                    <label style="font-size: 11px;">Bonif. Armadura</label>
                                    <input type="number" value="2">
                                </div>
                                <div>
                                    <label style="font-size: 11px;">Penalizador</label>
                                    <input type="number" value="5">
                                </div>
                            </div>
                        </div>

                        <div class="equipment-item">
                            <h4>Escudo</h4>
                            <select id="shield-select">
                                <option value="">Sin escudo</option>
                                <option value="ligero">Escudo Ligero (+1 CA)</option>
                                <option value="pesado" selected>Escudo Pesado (+2 CA)</option>
                                <option value="torre">Escudo de Torre (+4 CA)</option>
                            </select>
                            <div class="bonus-inputs">
                                <div>
                                    <label style="font-size: 11px;">Bonif. Mejora</label>
                                    <input type="number" value="2" min="0" max="5">
                                </div>
                                <div>
                                    <label style="font-size: 11px;">Bonif. Escudo</label>
                                    <input type="number" value="1">
                                </div>
                                <div>
                                    <label style="font-size: 11px;">Penalizador</label>
                                    <input type="number" value="2">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-top: 20px;">
                        <div class="equipment-item">
                            <h4>Anillo de Protección</h4>
                            <input type="text" value="Anillo de Protección +3" readonly>
                            <input type="number" value="3" readonly>
                        </div>
                        <div class="equipment-item">
                            <h4>Amuleto de Armadura Natural</h4>
                            <input type="text" value="Amuleto +4" readonly>
                            <input type="number" value="4" readonly>
                        </div>
                        <div class="equipment-item">
                            <h4>Botas de Velocidad</h4>
                            <input type="text" value="+4 a Iniciativa" readonly>
                            <input type="number" value="4" readonly>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2 class="section-title">Ataques</h2>
                    <table class="weapons-table">
                        <thead>
                            <tr>
                                <th>Arma</th>
                                <th>Bonif. Ataque</th>
                                <th>Daño</th>
                                <th>Crítico</th>
                                <th>Tipo</th>
                                <th>Bonif. Mejora</th>
                                <th>Bonif. Varios</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <select style="width: 120px;">
                                        <option value="">--</option>
                                        <option value="hacha_grande" selected>Hacha Grande +5</option>
                                        <option value="espada_larga">Espada Larga</option>
                                        <option value="daga">Daga</option>
                                        <option value="arco_largo">Arco Largo</option>
                                        <option value="hacha">Hacha de Batalla</option>
                                    </select>
                                </td>
                                <td><input type="text" value="+35/+30/+25" readonly></td>
                                <td><input type="text" value="3d6+18" readonly></td>
                                <td><input type="text" value="19-20/x3" readonly></td>
                                <td><input type="text" value="Cortar" readonly></td>
                                <td><input type="number" value="5" min="0" max="5"></td>
                                <td><input type="number" value="2"></td>
                            </tr>
                            <tr>
                                <td>
                                    <select style="width: 120px;">
                                        <option value="">--</option>
                                        <option value="daga" selected>Daga +3</option>
                                        <option value="espada_larga">Espada Larga</option>
                                        <option value="arco_largo">Arco Largo</option>
                                    </select>
                                </td>
                                <td><input type="text" value="+33/+28/+23" readonly></td>
                                <td><input type="text" value="1d4+12" readonly></td>
                                <td><input type="text" value="19-20/x2" readonly></td>
                                <td><input type="text" value="Perforar" readonly></td>
                                <td><input type="number" value="3" min="0" max="5"></td>
                                <td><input type="number" value="1"></td>
                            </tr>
                            <tr>
                                <td>
                                    <select style="width: 120px;">
                                        <option value="">--</option>
                                        <option value="arco_compuesto" selected>Arco Compuesto +4</option>
                                        <option value="espada_larga">Espada Larga</option>
                                        <option value="daga">Daga</option>
                                        <option value="arco_largo">Arco Largo</option>
                                    </select>
                                </td>
                                <td><input type="text" value="+34/+29/+24" readonly></td>
                                <td><input type="text" value="1d8+10" readonly></td>
                                <td><input type="text" value="x3" readonly></td>
                                <td><input type="text" value="Perforar" readonly></td>
                                <td><input type="number" value="4" min="0" max="5"></td>
                                <td><input type="number" value="2"></td>
                            </tr>
                        </tbody>
                    </table>

                    <div style="margin-top: 20px;">
                        <h4 style="color: var(--primary-color); margin-bottom: 10px;">Ataque Manual Personalizable</h4>
                        <div style="display: grid; grid-template-columns: 2fr 1fr 1fr 1fr 1fr; gap: 10px;">
                            <input type="text" placeholder="Nombre del ataque">
                            <input type="text" placeholder="Bonif">
                            <input type="text" placeholder="Daño">
                            <input type="text" placeholder="Crítico">
                            <input type="text" placeholder="Tipo">
                        </div>
                    </div>
                </div>

                <!-- NUEVA SECCIÓN: Defensas Especiales -->
                <div class="section">
                    <h2 class="section-title">Defensas Especiales</h2>
                    <div class="special-defenses">
                        <div class="defense-grid">
                            <div class="defense-item">
                                <label>Reducción de Daño (DR)</label>
                                <input type="text" id="damage-reduction" value="10/contundente">
                            </div>
                            <div class="defense-item">
                                <label>Resistencias</label>
                                <input type="text" id="resistances" value="Fuego 15, Frío 10">
                            </div>
                            <div class="defense-item">
                                <label>Inmunidades</label>
                                <input type="text" id="immunities" value="Veneno, Sueño">
                            </div>
                            <div class="defense-item">
                                <label>Resistencia Mágica</label>
                                <input type="number" id="spell-resistance" value="25">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- NUEVA SECCIÓN: Sistema de Carga -->
                <div class="section">
                    <h2 class="section-title">Sistema de Carga</h2>
                    <div class="encumbrance-system">
                        <div class="load-categories">
                            <div class="load-category">
                                <h4>Carga Ligera</h4>
                                <input type="number" id="light-load" value="116" readonly>
                                <span>Velocidad: Normal</span>
                            </div>
                            <div class="load-category">
                                <h4>Carga Media</h4>
                                <input type="number" id="medium-load" value="233" readonly>
                                <span>Velocidad: -10 pies</span>
                            </div>
                            <div class="load-category">
                                <h4>Carga Pesada</h4>
                                <input type="number" id="heavy-load" value="350" readonly>
                                <span>Velocidad: -20 pies</span>
                            </div>
                        </div>
                        <div class="current-load">
                            <label>Peso Actual Transportado</label>
                            <input type="number" id="current-weight" value="85">
                            <span>lb / <span id="max-load">350</span> lb</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Pestaña de Competencias - CON DATOS DE EJEMPLO -->
            <div id="skills" class="tab-content">
                <div class="section">
                    <h2 class="section-title">HABILIDADES</h2>
                    
                    <div class="skills-summary">
                        <div class="total-ranks-box">
                            <label>Rangos Totales</label>
                            <input type="number" id="total-ranks" value="230" readonly>
                        </div>
                        <div class="total-ranks-box">
                            <label>Rangos Disponibles</label>
                            <input type="number" id="available-ranks" value="0" readonly>
                        </div>
                        <div class="total-ranks-box">
                            <label>Rangos Máximos por Habilidad</label>
                            <input type="number" id="max-ranks" value="23" readonly>
                        </div>
                    </div>
                    
                    <div class="skills-table-container">
                        <table class="skills-table">
                            <thead>
                                <tr>
                                    <th>Habilidad</th>
                                    <th>Atributo</th>
                                    <th>Rangos</th>
                                    <th>Clase</th>
                                    <th>Mod. Atrib.</th>
                                    <th>Varios</th>
                                    <th>Penalizador</th>
                                    <th>Bonif. Total</th>
                                </tr>
                            </thead>
                            <tbody id="skills-body">
                                <!-- Las habilidades se generarán con JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Pestaña de Dotes - CON DATOS DE EJEMPLO -->
            <div id="feats" class="tab-content">
                <div class="section">
                    <h2 class="section-title">Dotes</h2>
                    <div class="feat-selection">
                        <select id="feat-select">
                            <option value="">Seleccionar dote...</option>
                            <option value="especializacion_arma">Especialización con Arma</option>
                            <option value="tiro_preciso">Tiro Preciso</option>
                            <option value="combate_dos_armas">Combate con Dos Armas</option>
                            <option value="esquiva">Esquiva</option>
                            <option value="ataque_poderoso">Ataque Poderoso</option>
                            <option value="carga_imparable">Carga Imparable</option>
                        </select>
                        <button id="add-feat-btn">Añadir Dote</button>
                    </div>
                    <div id="feats-list" class="feats-list">
                        <div class="feat-item">
                            <div>
                                <strong>Ataque Poderoso</strong>
                                <div class="feat-bonus-section">
                                    <div class="feat-bonus-item">
                                        <label>¿A qué bonifica?</label>
                                        <input type="text" value="Daño con armas cuerpo a cuerpo" readonly>
                                    </div>
                                    <div class="feat-bonus-item">
                                        <label>Valor del bonificador</label>
                                        <input type="text" value="-5 ataque, +10 daño" readonly>
                                    </div>
                                </div>
                            </div>
                            <button onclick="this.parentElement.remove()">Eliminar</button>
                        </div>
                        <div class="feat-item">
                            <div>
                                <strong>Esquiva</strong>
                                <div class="feat-bonus-section">
                                    <div class="feat-bonus-item">
                                        <label>¿A qué bonifica?</label>
                                        <input type="text" value="CA contra un oponente" readonly>
                                    </div>
                                    <div class="feat-bonus-item">
                                        <label>Valor del bonificador</label>
                                        <input type="text" value="+1 CA" readonly>
                                    </div>
                                </div>
                            </div>
                            <button onclick="this.parentElement.remove()">Eliminar</button>
                        </div>
                        <div class="feat-item">
                            <div>
                                <strong>Tiro Preciso</strong>
                                <div class="feat-bonus-section">
                                    <div class="feat-bonus-item">
                                        <label>¿A qué bonifica?</label>
                                        <input type="text" value="Ataques a distancia en combate cuerpo a cuerpo" readonly>
                                    </div>
                                    <div class="feat-bonus-item">
                                        <label>Valor del bonificador</label>
                                        <input type="text" value="Ignora penalizador por combate cercano" readonly>
                                    </div>
                                </div>
                            </div>
                            <button onclick="this.parentElement.remove()">Eliminar</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Pestaña de Equipo - CON DATOS DE EJEMPLO -->
            <div id="equipment" class="tab-content">
                <div class="section">
                    <h2 class="section-title">Equipo y Posesiones</h2>
                    <textarea placeholder="Describe tu equipo, objetos mágicos, etc.">Hacha Grande +5, Cota de Mallas +3, Escudo Pesado +2, Anillo de Protección +3, Amuleto de Armadura Natural +4, Botas de Velocidad, Cinturón de Fuerza Gigante +6, Brazal de Destreza +4, Capa de Resistencia +4, Mochila de Carga, Saco de dormir, Raciones (7 días), Poción de Curar Heridas Graves (x3), Poción de Neutralizar Veneno (x2)</textarea>
                </div>
                <div class="section">
                    <h2 class="section-title">Riqueza</h2>
                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px;">
                        <div class="combat-stat">
                            <label>Platino (PP)</label>
                            <input type="number" value="1250">
                        </div>
                        <div class="combat-stat">
                            <label>Oro (PO)</label>
                            <input type="number" value="5000">
                        </div>
                        <div class="combat-stat">
                            <label>Plata (PC)</label>
                            <input type="number" value="250">
                        </div>
                        <div class="combat-stat">
                            <label>Cobre (PB)</label>
                            <input type="number" value="100">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Pestaña de Hechizos - CON DATOS DE EJEMPLO -->
            <div id="spells" class="tab-content">
                <div class="section">
                    <h2 class="section-title">Conjuración</h2>
                    <div class="spellcasting-info">
                        <div class="spell-stat">
                            <label>Concentración</label>
                            <input type="number" id="concentration" value="32" readonly>
                        </div>
                        <div class="spell-stat">
                            <label>CD de Hechizos</label>
                            <input type="number" id="spell-dc" value="24" readonly>
                        </div>
                        <div class="spell-stat">
                            <label>Bonificador de Ataque con Hechizos</label>
                            <input type="number" id="spell-attack" value="14" readonly>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2 class="section-title">Hechizos por Día</h2>
                    <table class="spells-per-day-table">
                        <thead>
                            <tr>
                                <th>Nivel</th>
                                <th>0</th><th>1</th><th>2</th><th>3</th><th>4</th>
                                <th>5</th><th>6</th><th>7</th><th>8</th><th>9</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Por Día</td>
                                <td><input type="number" value="4"></td>
                                <td><input type="number" value="6"></td>
                                <td><input type="number" value="6"></td>
                                <td><input type="number" value="6"></td>
                                <td><input type="number" value="5"></td>
                                <td><input type="number" value="5"></td>
                                <td><input type="number" value="4"></td>
                                <td><input type="number" value="4"></td>
                                <td><input type="number" value="3"></td>
                                <td><input type="number" value="3"></td>
                            </tr>
                            <tr>
                                <td>Restantes</td>
                                <td><input type="number" value="4"></td>
                                <td><input type="number" value="6"></td>
                                <td><input type="number" value="6"></td>
                                <td><input type="number" value="6"></td>
                                <td><input type="number" value="5"></td>
                                <td><input type="number" value="5"></td>
                                <td><input type="number" value="4"></td>
                                <td><input type="number" value="4"></td>
                                <td><input type="number" value="3"></td>
                                <td><input type="number" value="3"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="section">
                    <h2 class="section-title">Hechizos Conocidos/Preparados</h2>
                    <div class="spell-levels-container">
                        <div class="spell-level">
                            <h4>Nivel 0</h4>
                            <textarea placeholder="Hechizos de nivel 0...">Detectar magia, Luz, Llamarada, Mano de mago</textarea>
                        </div>
                        <div class="spell-level">
                            <h4>Nivel 1</h4>
                            <textarea placeholder="Hechizos de nivel 1...">Curar heridas leves, Protección contra el caos, Entender idiomas, Paso veloz</textarea>
                        </div>
                        <div class="spell-level">
                            <h4>Nivel 2</h4>
                            <textarea placeholder="Hechizos de nivel 2...">Auxilio, Localizar objeto, Resistir energía, Silencio</textarea>
                        </div>
                        <div class="spell-level">
                            <h4>Nivel 3</h4>
                            <textarea placeholder="Hechizos de nivel 3...">Vuelo, Disipar magia, Protección contra energía, Velocidad</textarea>
                        </div>
                        <div class="spell-level">
                            <h4>Nivel 4</h4>
                            <textarea placeholder="Hechizos de nivel 4...">Libertad de movimiento, Muro de fuego, Neutralizar veneno, Orden imperiosa</textarea>
                        </div>
                        <div class="spell-level">
                            <h4>Nivel 5</h4>
                            <textarea placeholder="Hechizos de nivel 5...">Comunión con la naturaleza, Curar heridas graves, Muro de piedra, Teletransporte</textarea>
                        </div>
                        <div class="spell-level">
                            <h4>Nivel 6</h4>
                            <textarea placeholder="Hechizos de nivel 6...">Carne a piedra, Curar heridas críticas, Mover la tierra, Palabra de recuerdo</textarea>
                        </div>
                        <div class="spell-level">
                            <h4>Nivel 7</h4>
                            <textarea placeholder="Hechizos de nivel 7...">Resurrección, Proyectar imagen, Tormenta de fuego, Terremoto</textarea>
                        </div>
                        <div class="spell-level">
                            <h4>Nivel 8</h4>
                            <textarea placeholder="Hechizos de nivel 8...">Forma gaseosa, Palabra de poder: aturdir, Protección contra hechizos, Terreno hostil</textarea>
                        </div>
                        <div class="spell-level">
                            <h4>Nivel 9</h4>
                            <textarea placeholder="Hechizos de nivel 9...">Deseo limitado, Forma de dragón, Puerta, Resurrección verdadera</textarea>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Pestaña de Talentos/Historia - CON DATOS DE EJEMPLO -->
            <div id="history" class="tab-content">
                <div class="section">
                    <h2 class="section-title">Talentos y Rasgos</h2>
                    <div class="traits-container">
                        <div class="trait-category">
                            <h4>Rasgos Raciales</h4>
                            <div class="trait-list">
                                <div class="trait-item">
                                    <span>Versátil</span>
                                    <span>+1 dote adicional al 1er nivel</span>
                                </div>
                                <div class="trait-item">
                                    <span>Habilidad favorita</span>
                                    <span>+1 a una habilidad de clase</span>
                                </div>
                                <div class="trait-item">
                                    <span>Talento adicional</span>
                                    <span>+1 talento racial</span>
                                </div>
                            </div>
                        </div>
                        <div class="trait-category">
                            <h4>Rasgos de Trasfondo</h4>
                            <div class="trait-list">
                                <div class="trait-item">
                                    <span>Cazador</span>
                                    <span>+1 a Supervivencia y Rastrear</span>
                                </div>
                                <div class="trait-item">
                                    <span>Conocimiento de la naturaleza</span>
                                    <span>+2 a Conocimiento (naturaleza)</span>
                                </div>
                                <div class="trait-item">
                                    <span>Resistencia del cazador</span>
                                    <span>+1 a Fortaleza</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="section">
                    <h2 class="section-title">Historia del Personaje</h2>
                    <textarea placeholder="Escribe la historia de tu personaje aquí...">Kaelen Fierro creció en las tierras salvajes del norte, aprendiendo las formas de la naturaleza y el arte de la caza. Su conexión con la naturaleza lo llevó a convertirse en druida, mientras que su espíritu indomable lo hizo abrazar el camino del bárbaro. Con los años, perfeccionó sus habilidades como pícaro para sobrevivir en entornos hostiles. Su reputación como guardián de la naturaleza y maestro del combate lo llevó a ser respetado y temido por igual.</textarea>
                </div>
                <div class="section">
                    <h2 class="section-title">Rasgos de Personalidad</h2>
                    <textarea placeholder="Describe la personalidad, motivaciones, miedos, etc...">Kaelen es un individuo de pocas palabras pero de acción rápida. Valora la libertad por encima de todo y protege ferozmente a los inocentes. Tiene un profundo respeto por la naturaleza y se opone a quienes la explotan sin consideración. Aunque puede parecer brusco, tiene un fuerte sentido del honor y la justicia. Sus mayores temores son la destrucción de los entornos naturales y la tiranía de los poderosos.</textarea>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Datos de habilidades (atributo y nombre)
        const skills = [
            { name: "Acrobacias", attribute: "DES" },
            { name: "Artesanía", attribute: "INT" },
            { name: "Averiguar Intenciones", attribute: "SAB" },
            { name: "Caballerosidad", attribute: "CAR" },
            { name: "Callejeo", attribute: "CAR" },
            { name: "Concentración", attribute: "CON" },
            { name: "Conocimiento (Arcano)", attribute: "INT" },
            { name: "Conocimiento (Dungeon)", attribute: "INT" },
            { name: "Conocimiento (Ingeniería)", attribute: "INT" },
            { name: "Conocimiento (Geografía)", attribute: "INT" },
            { name: "Conocimiento (Historia)", attribute: "INT" },
            { name: "Conocimiento (Local)", attribute: "INT" },
            { name: "Conocimiento (Naturaleza)", attribute: "INT" },
            { name: "Conocimiento (Nobleza)", attribute: "INT" },
            { name: "Conocimiento (Religión)", attribute: "INT" },
            { name: "Conocimiento (Planos)", attribute: "INT" },
            { name: "Curar", attribute: "SAB" },
            { name: "Descifrar Escrituras", attribute: "INT" },
            { name: "Diplomacia", attribute: "CAR" },
            { name: "Disfrazarse", attribute: "CAR" },
            { name: "Escalar", attribute: "FUE" },
            { name: "Escapar", attribute: "DES" },
            { name: "Escuchar", attribute: "SAB" },
            { name: "Enfocar Conjuro", attribute: "CON" },
            { name: "Ensayar", attribute: "CAR" },
            { name: "Equitación", attribute: "DES" },
            { name: "Encontrar Objetos", attribute: "SAB" },
            { name: "Forzar Cerraduras", attribute: "DES" },
            { name: "Hechicería", attribute: "INT" },
            { name: "Idioma", attribute: "INT" },
            { name: "Intimidar", attribute: "CAR" },
            { name: "Juego de Manos", attribute: "DES" },
            { name: "Juego", attribute: "CAR" },
            { name: "Liderazgo", attribute: "CAR" },
            { name: "Montar", attribute: "DES" },
            { name: "Mover Objetos", attribute: "FUE" },
            { name: "Nadar", attribute: "FUE" },
            { name: "Oficio", attribute: "INT" },
            { name: "Orientarse", attribute: "SAB" },
            { name: "Percepción", attribute: "SAB" },
            { name: "Persuación", attribute: "CAR" },
            { name: "Pilotar", attribute: "DES" },
            { name: "Rastrear", attribute: "SAB" },
            { name: "Saltar", attribute: "FUE" },
            { name: "Saber (Naturaleza)", attribute: "INT" },
            { name: "Sigilo", attribute: "DES" },
            { name: "Supervivencia", attribute: "SAB" },
            { name: "Trepar", attribute: "FUE" },
            { name: "Trato con Animales", attribute: "CAR" },
            { name: "Usar Objetos Mágicos", attribute: "CAR" }
        ];

        // Función para calcular el modificador de un atributo
        function getAttributeModifier(attributeValue) {
            return Math.floor((attributeValue - 10) / 2);
        }

        // Función para calcular el total de una habilidad
        function calculateSkillTotal(ranks, isClassSkill, attributeMod, misc, penalty) {
            let total = parseInt(ranks) || 0;
            total += isClassSkill ? 3 : 0;
            total += parseInt(attributeMod) || 0;
            total += parseInt(misc) || 0;
            total -= parseInt(penalty) || 0;
            return total;
        }

        // Generar la tabla de habilidades
        function generateSkillsTable() {
            const skillsBody = document.getElementById('skills-body');
            skillsBody.innerHTML = '';

            // Obtener modificadores actuales de atributos
            const strMod = getAttributeModifier(28); // FUE 28
            const dexMod = getAttributeModifier(22); // DES 22
            const conMod = getAttributeModifier(26); // CON 26
            const intMod = getAttributeModifier(18); // INT 18
            const wisMod = getAttributeModifier(16); // SAB 16
            const chaMod = getAttributeModifier(14); // CAR 14

            skills.forEach(skill => {
                let attributeMod = 0;
                switch(skill.attribute) {
                    case "FUE": attributeMod = strMod; break;
                    case "DES": attributeMod = dexMod; break;
                    case "CON": attributeMod = conMod; break;
                    case "INT": attributeMod = intMod; break;
                    case "SAB": attributeMod = wisMod; break;
                    case "CAR": attributeMod = chaMod; break;
                }

                // Asignar valores de ejemplo realistas
                let ranks = 0;
                let isClassSkill = false;
                let misc = 0;
                let penalty = 0;

                // Asignar valores específicos para habilidades importantes
                if (skill.name === "Supervivencia") {
                    ranks = 23;
                    isClassSkill = true;
                    misc = 2; // Bono de trasfondo
                } else if (skill.name === "Percepción") {
                    ranks = 23;
                    isClassSkill = true;
                } else if (skill.name === "Sigilo") {
                    ranks = 23;
                    isClassSkill = true;
                } else if (skill.name === "Conocimiento (Naturaleza)") {
                    ranks = 20;
                    isClassSkill = true;
                    misc = 2; // Bono de trasfondo
                } else if (skill.name === "Trepar") {
                    ranks = 15;
                    isClassSkill = true;
                } else if (skill.name === "Nadar") {
                    ranks = 15;
                    isClassSkill = true;
                } else if (skill.name === "Intimidar") {
                    ranks = 10;
                    isClassSkill = true;
                } else if (skill.name === "Trato con Animales") {
                    ranks = 10;
                    isClassSkill = true;
                }

                const total = calculateSkillTotal(ranks, isClassSkill, attributeMod, misc, penalty);

                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="skill-name">${skill.name}</td>
                    <td>${skill.attribute}</td>
                    <td><input type="number" class="skill-ranks" value="${ranks}" min="0"></td>
                    <td><input type="checkbox" class="skill-class" ${isClassSkill ? 'checked' : ''}></td>
                    <td class="skill-attr-mod">${attributeMod}</td>
                    <td><input type="number" class="skill-misc" value="${misc}"></td>
                    <td><input type="number" class="skill-penalty" value="${penalty}"></td>
                    <td class="skill-total">${total}</td>
                `;
                skillsBody.appendChild(row);
            });

            // Añadir event listeners para actualizar los totales
            document.querySelectorAll('.skill-ranks, .skill-class, .skill-misc, .skill-penalty').forEach(input => {
                input.addEventListener('input', updateSkillTotals);
            });
        }

        // Actualizar los totales de habilidades
        function updateSkillTotals() {
            const rows = document.querySelectorAll('#skills-body tr');
            rows.forEach(row => {
                const ranks = row.querySelector('.skill-ranks').value;
                const isClassSkill = row.querySelector('.skill-class').checked;
                const attrMod = parseInt(row.querySelector('.skill-attr-mod').textContent);
                const misc = row.querySelector('.skill-misc').value;
                const penalty = row.querySelector('.skill-penalty').value;
                const total = calculateSkillTotal(ranks, isClassSkill, attrMod, misc, penalty);
                row.querySelector('.skill-total').textContent = total;
            });

            // Actualizar resumen de rangos
            updateRanksSummary();
        }

        // Actualizar el resumen de rangos
        function updateRanksSummary() {
            let totalRanks = 0;
            document.querySelectorAll('.skill-ranks').forEach(input => {
                totalRanks += parseInt(input.value) || 0;
            });
            document.getElementById('total-ranks').value = totalRanks;
            // Nota: Los rangos disponibles y máximos dependen del nivel y la clase, no los calculamos aquí
        }

        // Sistema de dotes con bonificadores
        document.getElementById('add-feat-btn').addEventListener('click', () => {
            const select = document.getElementById('feat-select');
            const featValue = select.value;
            const featText = select.options[select.selectedIndex].text;
            
            if (featValue) {
                const featsList = document.getElementById('feats-list');
                const featItem = document.createElement('div');
                featItem.className = 'feat-item';
                featItem.innerHTML = `
                    <div>
                        <strong>${featText}</strong>
                        <div class="feat-bonus-section">
                            <div class="feat-bonus-item">
                                <label>¿A qué bonifica?</label>
                                <input type="text" placeholder="Ej: Ataque, Daño, CA...">
                            </div>
                            <div class="feat-bonus-item">
                                <label>Valor del bonificador</label>
                                <input type="text" placeholder="Ej: +1, +2...">
                            </div>
                        </div>
                    </div>
                    <button onclick="this.parentElement.remove()">Eliminar</button>
                `;
                featsList.appendChild(featItem);
                select.value = '';
            }
        });

        // Sistema de tabs principal
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                
                tab.classList.add('active');
                document.getElementById(tab.dataset.tab).classList.add('active');
            });
        });

        // Sistema de sub-tabs
        document.querySelectorAll('.sub-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.sub-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.sub-content').forEach(c => c.classList.remove('active'));
                
                tab.classList.add('active');
                document.getElementById(tab.dataset.subtab).classList.add('active');
            });
        });

        // Calcular NEP
        function calculateNEP() {
            const class1Level = parseInt(document.getElementById('class1-level').value) || 0;
            const class2Level = parseInt(document.getElementById('class2-level').value) || 0;
            const class3Level = parseInt(document.getElementById('class3-level').value) || 0;
            const prestige1Level = parseInt(document.getElementById('prestige1-level').value) || 0;
            const prestige2Level = parseInt(document.getElementById('prestige2-level').value) || 0;
            const prestige3Level = parseInt(document.getElementById('prestige3-level').value) || 0;
            
            const total = class1Level + class2Level + class3Level + prestige1Level + prestige2Level + prestige3Level;
            document.getElementById('nep-value').textContent = total;
            document.getElementById('next-nep-value').textContent = total + 1;
        }

        // Sistema de carga
        function calculateEncumbrance() {
            const strScore = parseInt(document.getElementById('str-total').textContent) || 10;
            const maxLoad = strScore * 15; // Fórmula para personajes de alto nivel
            
            document.getElementById('max-load').textContent = maxLoad;
            document.getElementById('light-load').value = Math.floor(maxLoad * 0.33);
            document.getElementById('medium-load').value = Math.floor(maxLoad * 0.66);
            document.getElementById('heavy-load').value = maxLoad;
        }

        // Listeners para actualizar NEP
        ['class1-level', 'class2-level', 'class3-level', 'prestige1-level', 'prestige2-level', 'prestige3-level'].forEach(id => {
            document.getElementById(id).addEventListener('input', calculateNEP);
        });

        // Inicializar
        calculateNEP();
        calculateEncumbrance();
        generateSkillsTable();
        
        // Mostrar notificación de puntos de habilidad
        document.getElementById('ability-point-notification').style.display = 'block';
    </script>
</body>
</html>
